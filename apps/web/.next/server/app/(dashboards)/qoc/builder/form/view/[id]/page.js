(()=>{var e={};e.id=1982,e.ids=[1982],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6375:(e,r,t)=>{"use strict";t.d(r,{b:()=>i});var s=t(70460),n=t(47492),a=t(74553),o=s.forwardRef((e,r)=>(0,a.jsx)(n.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var i=o},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13184:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(74553),n=t(70460),a=t(10112),o=t(67652),i=t.n(o);let d=(0,t(5993).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var l=t(78444),u=t(43256);function c({params:e}){let{id:r}=(0,n.use)(e),{data:t,isLoading:o,error:c}=(0,u.Sr)(r);if(o)return(0,s.jsx)("div",{className:"text-center",children:"Loading..."});let p=t.kpi;p?.kpi_id;let m=p?.kpi_name||"Untitled KPI",f=p.elements||[],h=p?.kpi_description||"No description available";return(0,s.jsxs)("main",{className:"container mx-auto px-4 py-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(i(),{href:"/qoc/builder/",children:(0,s.jsxs)(a.$,{variant:"outline",size:"sm",children:[(0,s.jsx)(d,{className:"mr-2 h-4 w-4"}),"Back to KPI Dashboard"]})})}),(0,s.jsx)("h1",{className:"mt-4 text-3xl font-bold",children:m}),(0,s.jsx)("p",{className:"mt-2 text-gray-500",children:"View and submit the form for this KPI"})]}),(0,s.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,s.jsx)(l.default,{formTitle:m,elements:f,description:h})})]})}},17671:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var s=t(13469),n=t(91306),a=t(71540),o=t.n(a),i=t(50947),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["(dashboards)",{children:["qoc",{children:["builder",{children:["form",{children:["view",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36201)),"/Users/vverma/ERP/ERP-SYS/apps/web/app/(dashboards)/qoc/builder/form/view/[id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,81523)),"/Users/vverma/ERP/ERP-SYS/apps/web/app/(dashboards)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,70720,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,60665,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,45958,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,59541))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,2130)),"/Users/vverma/ERP/ERP-SYS/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,70720,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,60665,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,45958,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,59541))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/Users/vverma/ERP/ERP-SYS/apps/web/app/(dashboards)/qoc/builder/form/view/[id]/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(dashboards)/qoc/builder/form/view/[id]/page",pathname:"/qoc/builder/form/view/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22276:(e,r,t)=>{"use strict";t.d(r,{C1:()=>M,bL:()=>D,q7:()=>F});var s=t(70460),n=t(93392),a=t(30663),o=t(3997),i=t(47492),d=t(19292),l=t(67020),u=t(76704),c=t(6040),p=t(75720),m=t(99887),f=t(74553),h="Radio",[v,x]=(0,o.A)(h),[b,y]=v(h),w=s.forwardRef((e,r)=>{let{__scopeRadio:t,name:o,checked:d=!1,required:l,disabled:u,value:c="on",onCheck:p,form:m,...h}=e,[v,x]=s.useState(null),y=(0,a.s)(r,e=>x(e)),w=s.useRef(!1),k=!v||m||!!v.closest("form");return(0,f.jsxs)(b,{scope:t,checked:d,disabled:u,children:[(0,f.jsx)(i.sG.button,{type:"button",role:"radio","aria-checked":d,"data-state":g(d),"data-disabled":u?"":void 0,disabled:u,value:c,...h,ref:y,onClick:(0,n.m)(e.onClick,e=>{d||p?.(),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),k&&(0,f.jsx)(E,{control:v,bubbles:!w.current,name:o,value:c,checked:d,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});w.displayName=h;var k="RadioIndicator",P=s.forwardRef((e,r)=>{let{__scopeRadio:t,forceMount:s,...n}=e,a=y(k,t);return(0,f.jsx)(m.C,{present:s||a.checked,children:(0,f.jsx)(i.sG.span,{"data-state":g(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})})});P.displayName=k;var E=e=>{let{control:r,checked:t,bubbles:n=!0,...a}=e,o=s.useRef(null),i=(0,p.Z)(t),d=(0,c.X)(r);return s.useEffect(()=>{let e=o.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==t&&r){let s=new Event("click",{bubbles:n});r.call(e,t),e.dispatchEvent(s)}},[i,t,n]),(0,f.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(e){return e?"checked":"unchecked"}var R=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],q="RadioGroup",[j,C]=(0,o.A)(q,[d.RG,x]),S=(0,d.RG)(),A=x(),[_,G]=j(q),N=s.forwardRef((e,r)=>{let{__scopeRadioGroup:t,name:s,defaultValue:n,value:a,required:o=!1,disabled:c=!1,orientation:p,dir:m,loop:h=!0,onValueChange:v,...x}=e,b=S(t),y=(0,u.jH)(m),[w,k]=(0,l.i)({prop:a,defaultProp:n,onChange:v});return(0,f.jsx)(_,{scope:t,name:s,required:o,disabled:c,value:w,onValueChange:k,children:(0,f.jsx)(d.bL,{asChild:!0,...b,orientation:p,dir:y,loop:h,children:(0,f.jsx)(i.sG.div,{role:"radiogroup","aria-required":o,"aria-orientation":p,"data-disabled":c?"":void 0,dir:y,...x,ref:r})})})});N.displayName=q;var I="RadioGroupItem",K=s.forwardRef((e,r)=>{let{__scopeRadioGroup:t,disabled:o,...i}=e,l=G(I,t),u=l.disabled||o,c=S(t),p=A(t),m=s.useRef(null),h=(0,a.s)(r,m),v=l.value===i.value,x=s.useRef(!1);return s.useEffect(()=>{let e=e=>{R.includes(e.key)&&(x.current=!0)},r=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,f.jsx)(d.q7,{asChild:!0,...c,focusable:!u,active:v,children:(0,f.jsx)(w,{disabled:u,required:l.required,checked:v,...p,...i,name:l.name,ref:h,onCheck:()=>l.onValueChange(i.value),onKeyDown:(0,n.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.m)(i.onFocus,()=>{x.current&&m.current?.click()})})})});K.displayName=I;var L=s.forwardRef((e,r)=>{let{__scopeRadioGroup:t,...s}=e,n=A(t);return(0,f.jsx)(P,{...n,...s,ref:r})});L.displayName="RadioGroupIndicator";var D=N,F=K,M=L},25478:(e,r,t)=>{Promise.resolve().then(t.bind(t,13184))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33573:(e,r,t)=>{"use strict";t.d(r,{y:()=>s});class s extends Error{constructor({name:e,message:r,cause:t}){super(r),this.name=e,this.message=r,this.cause=t}}},33873:e=>{"use strict";e.exports=require("path")},36201:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8381).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vverma/ERP/ERP-SYS/apps/web/app/(dashboards)/qoc/builder/form/view/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vverma/ERP/ERP-SYS/apps/web/app/(dashboards)/qoc/builder/form/view/[id]/page.tsx","default")},43256:(e,r,t)=>{"use strict";t.d(r,{Pm:()=>u,Sr:()=>h,pH:()=>m,xx:()=>p});var s=t(33573),n=t(1307),a=t(57614),o=t(95910),i=t(23256),d=t(38771);let l=async()=>(await i.A.get("/api/forms")).data.kpis;function u(){return(0,n.useQuery)({queryKey:["forms"],queryFn:l,staleTime:3e5,refetchOnWindowFocus:!1})}let c=async e=>{try{return(await i.A.post("/api/forms",e)).data}catch(e){throw new s.y({name:"PROCESSING_ERROR",message:e.response?.data?.error||"Failed to save form",cause:e})}};function p(){let e=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:c,onSuccess:()=>{d.toast.success("Form saved successfully",{description:"Your form has been saved successfully"}),e.invalidateQueries({queryKey:["forms"]})},onError:e=>{d.toast.error("Error saving form",{description:e.message}),console.error("Save form error:",e.name,e.cause)}})}function m(){let e=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>(await i.A.delete(`/api/kpi/${e}`)).data,onSuccess:()=>{d.toast.success("KPI deleted successfully",{description:"The KPI has been deleted from the backend"}),e.invalidateQueries({queryKey:["kpi"]}),e.invalidateQueries({queryKey:["forms"]})},onError:e=>{d.toast.error("Error deleting KPI",{description:e.message}),console.error("Error deleting KPI:",e)}})}let f=async e=>{let{data:r}=await i.A.get(`/api/kpi/${e}`);return console.log("Fetched form data:",r),r},h=e=>(0,n.useQuery)({queryKey:["form",e],queryFn:()=>f(e),enabled:!!e})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59134:(e,r,t)=>{Promise.resolve().then(t.bind(t,36201))},59245:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(5993).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86029:(e,r,t)=>{"use strict";t.d(r,{C1:()=>R,bL:()=>g});var s=t(70460),n=t(30663),a=t(3997),o=t(93392),i=t(67020),d=t(75720),l=t(6040),u=t(99887),c=t(47492),p=t(74553),m="Checkbox",[f,h]=(0,a.A)(m),[v,x]=f(m),b=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:a,checked:d,defaultChecked:l,required:u,disabled:m,value:f="on",onCheckedChange:h,form:x,...b}=e,[y,w]=s.useState(null),g=(0,n.s)(r,e=>w(e)),R=s.useRef(!1),q=!y||x||!!y.closest("form"),[j=!1,C]=(0,i.i)({prop:d,defaultProp:l,onChange:h}),S=s.useRef(j);return s.useEffect(()=>{let e=y?.form;if(e){let r=()=>C(S.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[y,C]),(0,p.jsxs)(v,{scope:t,state:j,disabled:m,children:[(0,p.jsx)(c.sG.button,{type:"button",role:"checkbox","aria-checked":P(j)?"mixed":j,"aria-required":u,"data-state":E(j),"data-disabled":m?"":void 0,disabled:m,value:f,...b,ref:g,onKeyDown:(0,o.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.m)(e.onClick,e=>{C(e=>!!P(e)||!e),q&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),q&&(0,p.jsx)(k,{control:y,bubbles:!R.current,name:a,value:f,checked:j,required:u,disabled:m,form:x,style:{transform:"translateX(-100%)"},defaultChecked:!P(l)&&l})]})});b.displayName=m;var y="CheckboxIndicator",w=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:s,...n}=e,a=x(y,t);return(0,p.jsx)(u.C,{present:s||P(a.state)||!0===a.state,children:(0,p.jsx)(c.sG.span,{"data-state":E(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});w.displayName=y;var k=e=>{let{control:r,checked:t,bubbles:n=!0,defaultChecked:a,...o}=e,i=s.useRef(null),u=(0,d.Z)(t),c=(0,l.X)(r);s.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==t&&r){let s=new Event("click",{bubbles:n});e.indeterminate=P(t),r.call(e,!P(t)&&t),e.dispatchEvent(s)}},[u,t,n]);let m=s.useRef(!P(t)&&t);return(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P(e){return"indeterminate"===e}function E(e){return P(e)?"indeterminate":e?"checked":"unchecked"}var g=b,R=w},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[3747,8717,7422,8433,3811,1570,7652,336,8444],()=>t(17671));module.exports=s})();